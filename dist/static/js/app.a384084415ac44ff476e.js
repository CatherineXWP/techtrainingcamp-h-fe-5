webpackJsonp([1],{"5OHe":function(t,e){},BJvG:function(t,e){},CfcH:function(t,e){},EaDE:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("kV13");function r(t){var e,a=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(a))?e[2]:null}function n(t,e,a){var s=new Date;s.setDate(s.getDate()+a),document.cookie=t+"="+escape(e)+(null==a?"":";expires="+s.toGMTString())}function o(t){var e=new Date;e.setTime(e.getTime()-1);var a=r(t);null!=a&&(document.cookie=t+"="+a+";expires="+e.toGMTString())}var i={name:"App",beforeMount:function(){s.default.prototype.$cookieStore={setCookie:n,getCookie:r,delCookie:o}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var c=a("C7Lr")(i,l,!1,function(t){a("auf7")},null,null).exports,u=a("wUgx"),h={data:function(){return{isShow:!1}},methods:{login:function(){this.$router.push("/home")},showRule:function(){this.isShow=!this.isShow},back:function(){this.isShow=!this.isShow},canvas:function(){var t=this;window.onresize=function(){t.screenHeight=document.documentElement.clientHeight};var e=document.getElementById("canvas"),a=e.getContext("2d"),s=e.width=window.innerWidth,r=e.height=window.innerHeight,n=217,o=[],i=0,l=document.createElement("canvas"),c=l.getContext("2d");l.width=100,l.height=100;var u=l.width/2,h=c.createRadialGradient(u,u,0,u,u,u);function d(t,e){if(arguments.length<2&&(e=t,t=0),t>e){var a=e;e=t,t=a}return Math.floor(Math.random()*(e-t+1))+t}h.addColorStop(.025,"#CCCCCC"),h.addColorStop(.1,"hsl("+n+", 61%, 33%)"),h.addColorStop(.25,"hsl("+n+", 64%, 6%)"),h.addColorStop(1,"transparent"),c.fillStyle=h,c.beginPath(),c.arc(u,u,u,0,2*Math.PI),c.fill();var v=function(){var t,e,a;this.orbitRadius=d((t=s,e=r,a=Math.max(t,e),Math.round(Math.sqrt(a*a+a*a))/2)),this.radius=d(60,this.orbitRadius)/8,this.orbitX=s/2,this.orbitY=r/2,this.timePassed=d(0,1e3),this.speed=d(this.orbitRadius)/5e5,this.alpha=d(2,10)/10,o[++i]=this};v.prototype.draw=function(){var t=Math.sin(this.timePassed)*this.orbitRadius+this.orbitX,e=Math.cos(this.timePassed)*this.orbitRadius+this.orbitY,s=d(10);1===s&&this.alpha>0?this.alpha-=.05:2===s&&this.alpha<1&&(this.alpha+=.05),a.globalAlpha=this.alpha,a.drawImage(l,t-this.radius/2,e-this.radius/2,this.radius,this.radius),this.timePassed+=this.speed};for(var p=0;p<1e3;p++)new v;!function t(){a.globalCompositeOperation="source-over",a.globalAlpha=.5,a.fillStyle="hsla("+n+", 64%, 6%, 2)",a.fillRect(0,0,s,r),a.globalCompositeOperation="lighter";for(var e=1,i=o.length;e<i;e++)o[e].draw();window.requestAnimationFrame(t)}()}},mounted:function(){this.canvas()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"mainpage"},[a("canvas",{attrs:{id:"canvas",width:"100%",height:"100%"}}),t._v(" "),a("div",{staticClass:"box",class:{on:t.isShow}},[a("h1",[t._v("狼人杀")]),t._v(" "),a("div",{staticClass:"IntroDiv "},[a("vue-typed-js",{attrs:{strings:["一起来玩狼人杀","谎言与推理碰撞","真相与虚伪交织","看谁能笑到最后"],loop:!0,typeSpeed:100,startDelay:100,backSpeed:10,backDelay:900,showCursor:!1}},[a("p",{staticClass:"typing"})])],1),t._v(" "),a("div",{staticClass:"footer"},[a("van-button",{staticClass:"button_left",attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:t.login}},[t._v("进入游戏")]),t._v(" "),a("van-button",{staticClass:"button_right",attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:t.showRule}},[t._v("游戏规则")])],1)])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"rulepage"},[a("h2",[t._v("狼人杀游戏规则")]),t._v(" "),t._m(0),t._v(" "),a("van-button",{staticClass:"back",attrs:{round:"",icon:"arrow-left",type:"primary",size:"small"},on:{click:t.back}},[t._v("返回")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rule"},[a("div",[a("h4",[t._v("角色")]),t._v(" "),a("p",[t._v("预言家、猎人、女巫、村民、狼人")])]),t._v(" "),a("div",[a("h4",[t._v("预言家")]),t._v(" "),a("p",[t._v("\n          每天晚上可以询问上帝场上任意一张活人的身份牌的好坏，上帝会告诉他这个人是好人还是坏人(狼人)。\n        ")])]),t._v(" "),a("div",[a("h4",[t._v("猎人")]),t._v(" "),a("p",[t._v("\n          猎人在死后可以发动技能带走场上任何一个人(前提不是被女巫毒死的，其他的都可以发动技能)，猎人也可以不发动技能。\n        ")])]),t._v(" "),a("div",[a("h4",[t._v("女巫")]),t._v(" "),a("p",[t._v("\n          女巫有一瓶毒药和解药；女巫一天晚上可以用两瓶药，女巫用过解药过后就再也不知道今晚谁死了；\n          晚上被女巫毒死的玩家白天没有遗言，被女巫毒死的猎人无法发动技能；\n        ")])]),t._v(" "),a("div",[a("h4",[t._v("村民")]),t._v(" "),a("p",[t._v("没有任何功能的普通玩家。")])]),t._v(" "),a("div",[a("h4",[t._v("狼人")]),t._v(" "),a("p",[t._v("\n          晚上的时候身份牌为狼人的玩家可以选择刀一个人，但是要所有狼同伴都统一意见，\n          如果意见不统一则上帝判定狼人没有刀人，当晚上帝在询问女巫的时候就会跟女巫说今晚没有人死亡。\n        ")]),t._v(" "),a("p",[t._v("\n          狼人有自爆的功能，狼人可以在游戏的任何阶段通知上帝自爆，(自爆就是跟所有人摊牌说自己是狼人，\n          身份牌将会展示给所有人)，自爆后，游戏的任意阶段都会立刻中止并且直接进入天黑。\n        ")])]),t._v(" "),a("div",[a("h3",[t._v("胜利条件")]),t._v(" "),a("p",[t._v("场上一共分为：神牌(好人)、平民（好人）、狼人（坏人）")]),t._v(" "),a("p",[t._v("\n          好人胜利条件：场上不存在任何一只狼人，并且保证场上既有神牌存在也有平民存在。\n        ")]),t._v(" "),a("p",[t._v("\n          狼人胜利条件：场上平民全死或者神全死，如果是在天黑阶段平民全死或者神全死，那么天亮后不管狼人是否还存活都判断狼人胜利。\n        ")])])])}]};var v=a("C7Lr")(h,d,!1,function(t){a("i13z")},"data-v-ca89b13c",null).exports,p=a("XYjr"),f={name:"HomePage.vue",data:function(){return{joinroomID:"",username:"",activeKey:0,operation:"joinRoom",showKeyboard:!0,columns:["6","9"],personCount:this.$store.state.personCounts,createdroomID:""}},methods:{onChange:function(t){},onClickLeft:function(){this.$router.push("/login")},onInput:function(t){this.createdroomID=(this.createdroomID+t).slice(0,6)},onDelete:function(){this.createdroomID=this.createdroomID.slice(0,this.createdroomID.length-1)},onConfirmCreate:function(t,e){if(""!==this.createdroomID)if(isNaN(this.createdroomID))Object(p.a)({message:"房间号只能为数字"});else if(6===this.createdroomID.length){var a=""+t,s=this.createdroomID;0!==a&&this.$store.dispatch("createRooms",{personCount:a,roomID:s})}else Object(p.a)({message:"房间号为6位数字"});else Object(p.a)({message:"房间号不能为空"})},onChangeCount:function(t,e,a){},oncancelCreate:function(){this.personCount=0},confirmJoinRoom:function(){var t=this.joinroomID,e=this.username;this.$store.dispatch("joinRooms",{roomID:t,username:e})}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("van-nav-bar",{attrs:{title:"首页","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),a("div",{staticClass:"selectOpera"},[a("van-tabs",{model:{value:t.operation,callback:function(e){t.operation=e},expression:"operation"}},[a("van-tab",{style:{marginTop:"50px"},attrs:{title:"加入房间",name:"joinRoom"}},[a("div",{staticClass:"joinRoominfo"},[a("van-field",{style:{marginBottom:"20px"},attrs:{rows:"1",autosize:"",label:"用户名",type:"textarea",placeholder:"请输入用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),a("van-field",{style:{marginTop:"20px",marginBottom:"20px"},attrs:{maxlength:"6",rows:"1",autosize:"",label:"房间号",type:"number",placeholder:"请输入6位房间号"},model:{value:t.joinroomID,callback:function(e){t.joinroomID=e},expression:"joinroomID"}})],1),t._v(" "),a("van-button",{style:{marginTop:"20px",marginBottom:"20px"},attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:t.confirmJoinRoom}},[t._v("\n          加入房间\n        ")])],1),t._v(" "),a("van-tab",{attrs:{title:"创建房间",name:"createRoom"}},[a("div",{staticClass:"roomNum"},[a("p",{staticClass:"roomIDspan"},[t._v("请输入房间号：")]),t._v(" "),a("van-password-input",{attrs:{value:t.createdroomID,mask:!1,focused:t.showKeyboard},on:{focus:function(e){t.showKeyboard=!0}}}),t._v(" "),a("van-number-keyboard",{attrs:{show:t.showKeyboard},on:{input:t.onInput,delete:t.onDelete,blur:function(e){t.showKeyboard=!1}}})],1),t._v(" "),a("div",{staticClass:"personCount"},[a("van-picker",{style:{marginTop:"20px",marginBottom:"20px"},attrs:{title:"选择房间人数","show-toolbar":"",columns:t.columns,"default-index":1},on:{confirm:t.onConfirmCreate,cancel:t.oncancelCreate,change:t.onChangeCount}})],1)]),t._v(" "),a("van-tab",{attrs:{title:"新手教程",name:"beginnerHelper"}},[a("div",{staticClass:"ruleIn"},[a("div",[a("h4",[t._v("角色")]),t._v(" "),a("p",[t._v("预言家、猎人、女巫、村民、狼人")])]),t._v(" "),a("div",[a("h3",[t._v("胜利条件")]),t._v(" "),a("p",[t._v("场上一共分为：神牌(好人)、平民（好人）、狼人（坏人）")]),t._v(" "),a("p",[t._v("好人胜利条件：场上不存在任何一只狼人，并且保证场上既有神牌存在也有平民存在。")]),t._v(" "),a("p",[t._v("狼人胜利条件：场上平民全死或者神全死，如果是在天黑阶段平民全死或者神全死，那么天亮后不管狼人是否还存活都判断狼人胜利。")])])])])],1)],1)],1)},staticRenderFns:[]};var _=a("C7Lr")(f,m,!1,function(t){a("Rw6S")},"data-v-84f26c12",null).exports,g={name:"RoleShow.vue",data:function(){return{timer:0,playerId:JSON.parse(window.localStorage.getItem("roleID"))}},computed:{otherPlayers:function(){return this.$store.state.Players},currentPlayer:function(){return{roleId:this.$store.state.playerIndex,rolestatus:this.$store.state.playerStatus,rolename:this.$store.state.playerRole,role:"",playerimage:"",playerskill:""}}},watch:{currentPlayer:function(t,e){console.log("111"),6===t.rolename?(this.currentPlayer.playerimage="../../static/img/langren.jpg",this.currentPlayer.playerskill="白天装作好人混淆视听，夜晚袭击村民，霸占村庄。",this.currentPlayer.role="狼人"):1===t.rolename?(this.currentPlayer.playerimage="../../static/img/pingming.jpg",this.currentPlayer.playerskill="无特殊技能，一觉睡到天亮。",this.currentPlayer.role="村民"):3===t.rolename?(this.currentPlayer.playerimage="../../static/img/yuyanjia.jpg",this.currentPlayer.playerskill="每天晚上可以查验一名玩家的身份是好人还是狼人。",this.currentPlayer.role="预言家"):2===t.rolename?(this.currentPlayer.playerimage="../../static/img/nvwu.jpg",this.currentPlayer.playerskill="女巫有两瓶药，解药可以救人，毒药可以杀人。",this.currentPlayer.role="女巫"):4===t.rolename&&(this.currentPlayer.playerimage="../../static/img/lieren.jpg",this.currentPlayer.playerskill="猎人死的时候可以带走场上任意一名玩家",this.currentPlayer.role="猎人")}},methods:{outRoom:function(){var t=this,e=this.playerId;p.a.confirm({title:"",message:"确定退出吗"}).then(function(){t.$store.dispatch("OutRoom",e),t.$router.back()}).catch(function(){})},refreshStatus:function(){var t=this.playerId;this.$store.dispatch("refreshStatus",t)},loop:function(){var t=this,e=this.playerId;"/roleshow"===this.$route.path&&(this.timer=setInterval(function(){t.$store.dispatch("loopPlayerStatus",e)},3e3))},toSelectMVP:function(){this.showResult=!1,clearInterval(this.timer),this.$router.push("/selectMVP")}},created:function(){this.loop()}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"container"},[t._m(0),t._v(" "),s("div",{staticClass:"showotherplayer"},[s("table",{staticStyle:{width:"100%"}},[s("tr",[s("td",t._l(t.otherPlayers,function(e){return s("div",{key:e.id,staticClass:"singlePlayer"},[s("img",{class:{died:2===e.role_sta},attrs:{src:a("cY1Z")}}),t._v(" "),s("span",{staticClass:"username"},[t._v("\n                "+t._s(e.name)+"\n              ")])])}),0)]),t._v(" "),s("tr",[s("td",[0===t.currentPlayer.rolestatus?s("div",{staticClass:"preparing"},[s("van-loading",{attrs:{type:"spinner",size:"50"}},[t._v("等待其他玩家进入\n              ")])],1):s("div",{staticClass:"showcurrentplayer"},[s("img",{attrs:{src:t.currentPlayer.playerimage}}),t._v(" "),s("div",{staticClass:"right"},[s("span",{staticStyle:{"font-size":"16px"}},[t._v("\n                  你的身份:\n                  "),s("label",{staticClass:"rolename"},[t._v("【"+t._s(t.currentPlayer.role)+"】")])]),t._v(" "),s("div",[s("div",{staticClass:"status"},[s("van-divider",{style:{color:"#14aea3",borderColor:"#ffffff",marginTop:"10px",marginBottom:"10px"}},[t._v("游戏状态\n                    ")]),t._v(" "),1===t.currentPlayer.rolestatus?s("label",{staticStyle:{"font-size":"16px"}},[t._v("存活")]):t._e(),t._v(" "),2===t.currentPlayer.rolestatus?s("label",{staticStyle:{"font-size":"16px"}},[t._v("已死亡")]):t._e()],1),t._v(" "),s("van-divider",{style:{color:"#26c622",borderColor:"#ffffff",marginTop:"10px",marginBottom:"10px"}},[t._v("角色技能\n                  ")]),t._v(" "),s("div",[s("span",{staticClass:"skill"},[t._v("【技能】"+t._s(t.currentPlayer.playerskill))])])],1)])])])])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1,expression:"1"}],staticClass:"footer"},[s("van-button",{staticClass:"button_left",attrs:{round:"",color:"linear-gradient(to right, #6149f6, #4bb0ff)"},on:{click:t.refreshStatus}},[t._v("刷新状态\n    ")]),t._v(" "),s("van-button",{staticClass:"button_right",attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:t.outRoom}},[t._v("退出房间\n    ")])],1),t._v(" "),s("van-overlay",{attrs:{show:3===t.currentPlayer.rolestatus||4===t.currentPlayer.rolestatus},on:{click:t.toSelectMVP}},[s("div",{staticClass:"overlay",on:{click:function(e){t.currentPlayer.rolestatus}}},[3===t.currentPlayer.rolestatus?s("div",{staticClass:"gameResult"},[s("svg",{staticClass:"icon",attrs:{t:"1595093708547",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5927",width:"200",height:"200"}},[s("path",{attrs:{d:"M511.998969 462.399984m-462.399984 0a462.399984 462.399984 0 1 0 924.799968 0 462.399984 462.399984 0 1 0-924.799968 0Z",fill:"#2EA2DB","p-id":"5928"}}),t._v(" "),s("path",{attrs:{d:"M479.999291 606.399565v235.199178l35.200677 30.401241 36.799114-30.401241 111.999903-20.798243 20.800306-99.200033-60.800419-76.801289z",fill:"#FFFFFF","p-id":"5929"}}),t._v(" "),s("path",{attrs:{d:"M881.598856 507.199533h41.600612v31.999677h-41.600612zM99.200032 507.199533h41.600613v31.999677h-41.600613z",fill:"#193651","p-id":"5930"}}),t._v(" "),s("path",{attrs:{d:"M904.127537 317.065966l-36.031864 20.796181-15.994683-27.715867 36.029801-20.796181z",fill:"#193651","p-id":"5931"}}),t._v(" "),s("path",{attrs:{d:"M774.386014 131.797835L753.589833 167.825574l-27.713805-15.996745 20.796182-36.031864zM496.000161 97.599533H527.999839v41.600612h-31.999678z",fill:"#193651","p-id":"5932"}}),t._v(" "),s("path",{attrs:{d:"M296.374972 152.754891L268.661168 168.753699 247.864987 132.721834l27.713804-15.996745zM169.657073 310.60003l-16.004995 27.707617-36.023614-20.808556 16.004995-27.707617z",fill:"#193651","p-id":"5933"}}),t._v(" "),s("path",{attrs:{d:"M471.998856 662.400548h-54.400483c-16.00087 0-30.399178-12.799871-30.399179-30.399178 0-16.00087 12.799871-30.399178 30.399179-30.399179h54.400483c16.00087 0 30.399178 12.799871 30.399178 30.399179 0.002062 15.998808-14.398308 30.399178-30.399178 30.399178z",fill:"#FFFFFF","p-id":"5934"}}),t._v(" "),s("path",{attrs:{d:"M471.998856 678.399355h-54.400483c-25.599742 0-46.400048-20.800306-46.400049-46.400048 0-25.599742 20.800306-46.400048 46.400049-46.400048h54.400483c25.599742 0 46.400048 20.800306 46.400048 46.400048 0 25.599742-20.798244 46.400048-46.400048 46.400048z m-54.398421-59.199919a14.340558 14.340558 0 0 0-14.400371 14.400371 14.340558 14.340558 0 0 0 14.400371 14.40037h54.400483a14.340558 14.340558 0 0 0 14.400371-14.40037 14.340558 14.340558 0 0 0-14.400371-14.400371h-54.400483z",fill:"#193651","p-id":"5935"}}),t._v(" "),s("path",{attrs:{d:"M471.998856 721.600467h-78.399726c-16.00087 0-30.399178-12.799871-30.399178-30.399178 0-16.00087 12.799871-30.399178 30.399178-30.399178h78.399726c16.00087 0 30.399178 12.799871 30.399178 30.399178 0.002062 17.599307-14.398308 30.399178-30.399178 30.399178z",fill:"#FFFFFF","p-id":"5936"}}),t._v(" "),s("path",{attrs:{d:"M471.998856 737.599275h-78.399726c-25.599742 0-46.400048-20.800306-46.400048-46.400048 0-25.599742 20.800306-46.400048 46.400048-46.400049h78.399726c25.599742 0 46.400048 20.800306 46.400048 46.400049s-20.798244 46.400048-46.400048 46.400048z m-79.998163-59.19992a14.340558 14.340558 0 0 0-14.400371 14.400371 14.340558 14.340558 0 0 0 14.400371 14.400371h78.399726a14.340558 14.340558 0 0 0 14.400371-14.400371 14.340558 14.340558 0 0 0-14.400371-14.400371h-78.399726z",fill:"#193651","p-id":"5937"}}),t._v(" "),s("path",{attrs:{d:"M471.998856 780.800387h-54.400483c-16.00087 0-30.399178-12.799871-30.399179-30.399179 0-16.00087 12.799871-30.399178 30.399179-30.399178h54.400483c16.00087 0 30.399178 12.799871 30.399178 30.399178 0.002062 17.599307-14.398308 30.399178-30.399178 30.399179z",fill:"#FFFFFF","p-id":"5938"}}),t._v(" "),s("path",{attrs:{d:"M471.998856 796.799194h-54.400483c-25.599742 0-46.400048-20.800306-46.400049-46.400048 0-25.599742 20.800306-46.400048 46.400049-46.400048h54.400483c25.599742 0 46.400048 20.800306 46.400048 46.400048 0 27.200242-20.798244 46.400048-46.400048 46.400048z m-54.398421-59.199919c-8.000435 0-14.400371 6.399936-14.400371 14.400371s6.399936 14.400371 14.400371 14.40037h54.400483c8.000435 0 14.400371-6.399936 14.400371-14.40037s-6.399936-14.400371-14.400371-14.400371h-54.400483z",fill:"#193651","p-id":"5939"}}),t._v(" "),s("path",{attrs:{d:"M471.998856 841.598743h-35.200677c-16.00087 0-30.399178-12.799871-30.399178-30.399178 0-16.00087 12.799871-30.399178 30.399178-30.399178h35.200677c16.00087 0 30.399178 12.799871 30.399178 30.399178 0.002062 16.00087-14.398308 30.399178-30.399178 30.399178z",fill:"#FFFFFF","p-id":"5940"}}),t._v(" "),s("path",{attrs:{d:"M471.998856 857.599613h-35.200677c-25.599742 0-46.400048-20.800306-46.400048-46.400048 0-25.599742 20.800306-46.400048 46.400048-46.400048h35.200677c25.599742 0 46.400048 20.800306 46.400048 46.400048s-20.798244 46.400048-46.400048 46.400048z m-35.198614-60.800419c-8.000435 0-14.400371 6.399936-14.400371 14.400371s6.399936 14.400371 14.400371 14.400371h35.200676c8.000435 0 14.400371-6.399936 14.400371-14.400371s-6.399936-14.400371-14.400371-14.400371h-35.200676z",fill:"#193651","p-id":"5941"}}),t._v(" "),s("path",{attrs:{d:"M679.999855 182.399194H342.399646s-70.399291 233.600741 124.799774 363.199952c8.000435 4.799436 12.799871 14.400371 12.799871 22.400806v324.800338h63.999355V569.600451c0-9.600935 4.799436-17.599307 12.799872-22.400805 193.600628-131.19971 123.201337-364.800451 123.201337-364.800452z",fill:"#FDBF5E","p-id":"5942"}}),t._v(" "),s("path",{attrs:{d:"M542.400209 908.799098h-63.999355c-9.600935 0-16.00087-6.399936-16.00087-16.00087V569.600451c0-3.200999-1.6005-8.000435-4.799436-9.600934-203.1995-135.999146-131.19971-379.200822-131.19971-382.399759 1.6005-6.399936 8.000435-11.199372 16.00087-11.199371h337.600209c6.399936 0 12.799871 4.799436 16.000871 11.199371 0 3.200999 71.999791 246.400612-131.19971 382.399759-3.200999 1.6005-4.799436 6.399936-4.799436 9.600934v324.800339c-1.604625 7.998373-8.00456 14.398308-17.603433 14.398308z m-46.400048-31.999678H527.999839V569.600451c0-14.400371 8.000435-28.800741 19.199807-36.799114 158.399952-105.599968 131.19971-287.999162 120.000338-334.39921H355.199517c-11.199372 48.000548-40.000113 227.200806 120.000338 334.39921 12.799871 8.000435 19.199807 22.400806 19.199807 36.799114v307.198969h1.600499z",fill:"#193651","p-id":"5943"}}),t._v(" "),s("path",{attrs:{d:"M380.799259 478.400854h-3.200999c-201.599001-33.600177-192.000129-260.79892-192.000129-262.39942 0-8.000435 8.000435-14.400371 16.00087-14.400371h134.400709c4.799436 0 9.600935 1.6005 12.799871 6.399936 3.200999 3.200999 4.799436 8.000435 3.200999 12.799871-8.000435 51.199484-14.400371 148.799017 43.199049 235.199178 3.200999 4.799436 3.200999 12.799871 0 17.599307-3.198937 1.6005-8.000435 4.801499-14.40037 4.801499z m-161.598888-246.400612c1.6005 43.199049 16.00087 166.400387 129.59921 204.8-38.399613-75.20079-38.399613-153.600516-31.999678-204.8h-97.599532zM641.600242 478.400854c-4.799436 0-11.199372-3.200999-12.799871-8.000435-3.200999-4.799436-3.200999-12.799871 0-17.599307 57.59942-86.400161 51.199484-183.999694 43.199049-235.199178 0-4.799436 0-9.600935 3.200999-12.799872 3.200999-3.200999 8.000435-6.399936 12.799871-6.399935h132.80021c8.000435 0 16.00087 6.399936 16.00087 14.400371 0 1.6005 9.600935 228.799243-192.000129 262.399419-1.6005 3.198937-3.200999 3.198937-3.200999 3.198937z m63.999355-246.400612c6.399936 51.199484 6.399936 129.59921-31.999678 204.8 115.200902-40.000113 128.000773-161.600951 129.599211-204.8h-97.599533z",fill:"#193651","p-id":"5944"}}),t._v(" "),s("path",{attrs:{d:"M619.199436 892.80029H403.200064s-43.199049 91.199597-81.600725 115.200902h382.399759c-41.59855-24.001305-84.799662-115.200902-84.799662-115.200902z",fill:"#E1E6E9","p-id":"5945"}}),t._v(" "),s("path",{attrs:{d:"M702.400661 1024H320.000902c-6.399936 0-12.799871-4.799436-16.00087-11.199372-1.6005-6.399936 1.6005-14.400371 6.399936-17.599307 28.800741-17.599307 65.599855-84.799662 76.799226-108.800967 3.200999-4.799436 8.000435-9.600935 14.400371-9.600934h217.599871c6.399936 0 11.199372 3.200999 14.400371 9.600934 11.199372 23.999243 48.000548 89.599098 76.799226 108.800967 6.399936 3.200999 9.600935 11.199372 6.399936 17.599307-1.598437 6.399936-7.998373 11.199372-14.398308 11.199372zM359.998953 992.000322h302.399532c-23.999243-28.800741-43.199049-65.599855-52.799984-83.199162h-196.799564c-9.598872 17.599307-28.798679 54.398421-52.799984 83.199162z",fill:"#193651","p-id":"5946"}}),t._v(" "),s("path",{attrs:{d:"M511.998969 254.398985l27.200241 56.000983 60.800419 8.000435-44.799548 43.199049 11.199371 60.800419-54.400483-28.800741-55.998921 28.800741 11.199372-60.800419-44.799549-43.199049 62.400919-8.000435zM628.800371 795.200757c-62.400918-40.000113-38.399613-108.800967-38.399614-108.800966l-57.59942-11.199372c-31.999678-8.000435-54.400483-36.799114-54.400483-68.800854 0-16.00087 16.00087-27.200242 31.999678-20.800306 22.400806 9.600935 76.799227 20.800306 113.600403 19.199806 12.799871 0 25.599742 1.6005 38.399613 6.399936l67.200354 22.400806v179.200257l-124.799774 30.399179h-62.400919",fill:"#FFFFFF","p-id":"5947"}}),t._v(" "),s("path",{attrs:{d:"M606.399565 857.599613h-62.400919c-9.600935 0-16.00087-6.399936-16.00087-16.00087s6.399936-16.00087 16.00087-16.00087h60.800419l110.399404-27.200242v-155.201015l-56.000983-19.199806c-11.199372-3.200999-22.400806-4.799436-31.999677-4.799436-40.000113 1.6005-95.999033-9.600935-120.000339-20.800307-3.200999-1.6005-4.799436 0-6.399935 0-1.6005 0-3.200999 3.200999-3.200999 6.399936 0 25.599742 17.599307 46.400048 41.600612 52.799984l56.000983 11.199371c4.799436 1.6005 8.000435 3.200999 11.199371 8.000435 1.6005 4.799436 3.200999 9.600935 1.6005 12.799872 0 1.6005-19.199807 57.59942 31.999678 89.599097 8.000435 4.799436 9.600935 14.400371 4.799436 22.400806s-14.400371 9.600935-22.400806 4.799436c-48.000548-30.399178-52.799984-78.399726-48.000548-110.399404l-41.600612-8.000435c-40.000113-9.600935-67.200354-44.799549-67.200355-84.799662 0-12.799871 6.399936-25.599742 17.599308-31.999677 11.199372-8.000435 23.999243-8.000435 36.799113-3.200999 20.800306 9.600935 71.999791 19.199807 107.200468 17.599307 14.400371 0 28.800741 1.6005 43.199049 6.399935l67.200354 22.400806c6.399936 1.6005 11.199372 8.000435 11.199372 14.400371v179.200257c0 8.000435-4.799436 14.400371-12.799871 16.000871l-124.799775 30.399178c-3.192749 3.203062-3.192749 3.203062-4.793248 3.203061z",fill:"#193651","p-id":"5948"}}),t._v(" "),s("path",{attrs:{d:"M729.59884 582.400322h228.799243v263.99992H729.59884z",fill:"#FFFFFF","p-id":"5949"}}),t._v(" "),s("path",{attrs:{d:"M958.400145 862.399049H729.59884c-9.600935 0-16.00087-6.399936-16.00087-16.00087v-263.999919c0-9.600935 6.399936-16.00087 16.00087-16.00087h228.799243c9.600935 0 16.00087 6.399936 16.00087 16.00087v263.999919c0 9.600935-6.399936 16.00087-15.998808 16.00087z m-212.800435-31.999677h196.799565V598.39913h-196.799565v232.000242z",fill:"#193651","p-id":"5950"}}),t._v(" "),s("path",{attrs:{d:"M783.040261 646.224365h121.600838v139.200145h-121.600838z",fill:"#F16051","p-id":"5951"}})]),t._v(" "),s("p",{staticClass:"winText"},[t._v("WIN!")])]):t._e(),t._v(" "),4===t.currentPlayer.rolestatus?s("div",{staticClass:"gameResult"},[s("svg",{staticClass:"icon",attrs:{t:"1595094289303",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6141",width:"200",height:"200"}},[s("path",{attrs:{d:"M513.9 127.73c202.43 0 366.69 165.45 366.69 369.77 0 134.94-72.32 236.61-195.13 286.17l-7.59 2.96-26.12 9.93-7.23 50.42-0.66 3.63c-4.52 20.25-21.68 35.22-42.36 36.93l-3.93 0.17H430.18l-3.7-0.14c-20.68-1.62-37.91-16.49-42.52-36.72l-0.71-3.84-7.23-50.44-26.12-9.93-7.59-2.96c-122.78-49.54-195.15-151.23-195.15-286.17 0-204.32 164.26-369.77 366.72-369.77l0.02-0.01zM336.12 366.24c-58.91 0-106.67 47.76-106.67 106.67s47.76 106.67 106.67 106.67 106.67-47.76 106.67-106.67-47.76-106.67-106.67-106.67z m320-47.41c-65.46 0-118.52 53.06-118.52 118.52s53.06 118.52 118.52 118.52 118.52-53.06 118.52-118.52-53.07-118.52-118.52-118.52z",fill:"#CFD7DC","p-id":"6142"}}),t._v(" "),s("path",{attrs:{d:"M513.9 80.3c-228.71 0-414.12 186.78-414.12 417.18 0 165.09 95.19 281.03 233.31 333.48l3.27 22.76c6.68 46.71 46.68 81.4 93.87 81.4h167.35c47.19 0.01 87.21-34.68 93.89-81.4l3.25-22.76C832.83 778.51 928 662.58 928 497.48 928 267.08 742.61 80.3 513.9 80.3z m163.98 706.36l-26.12 9.93-7.23 50.42-0.66 3.63c-4.83 21.68-24.06 37.09-46.27 37.1l-7.4-0.02 18.06-90.17 0.38-2.75c0.92-11.92-7.19-22.66-18.91-25.05-12.83-2.61-25.34 5.68-27.95 18.51l-19.91 99.46H490.2V792.9l-0.17-2.77c-1.42-11.91-11.51-20.89-23.51-20.9-13.09-0.01-23.71 10.59-23.73 23.68v94.81H430.2l-3.7-0.14c-22.13-1.73-40.1-18.58-43.24-40.56l-7.23-50.44-26.12-9.93-7.58-2.96c-122.81-49.56-195.15-151.23-195.15-286.2 0-183.61 132.69-335.88 306.56-364.8l7.92 25.55-55.89 38.02-2.2 1.68c-8.39 7.27-10.62 19.38-5.36 29.16l25.29 46.93 1.45 2.37c6.89 9.85 20.06 12.99 30.65 7.3l2.37-1.47c9.85-6.89 12.97-20.07 7.28-30.65l-15.17-28.14 52.76-35.84 2.2-1.73a23.708 23.708 0 0 0 7.11-24.89l-10.24-33.07c3.98-0.14 7.96-0.21 11.99-0.21v0.05c202.45 0 366.72 165.45 366.72 369.77-0.01 137.7-75.34 240.76-202.74 289.14z","p-id":"6143"}}),t._v(" "),s("path",{attrs:{d:"M656.12 437.35m-118.52 0a118.52 118.52 0 1 0 237.04 0 118.52 118.52 0 1 0-237.04 0Z",fill:"#B3BFC5","p-id":"6144"}}),t._v(" "),s("path",{attrs:{d:"M510.58 564.3c5.47 2.12 9.97 6.19 12.61 11.43l40.79 80.73c5.92 11.68 1.25 25.94-10.43 31.86a23.677 23.677 0 0 1-12.18 2.51l-70.33-4.36c-13.07-0.81-23-12.05-22.2-25.12 0.15-2.43 0.67-4.82 1.55-7.09l29.51-76.4c4.72-12.21 18.44-18.28 30.65-13.57 0.02 0.01 0.02 0.01 0.03 0.01zM336.12 318.83c-85.09 0-154.07 68.98-154.07 154.07s68.98 154.07 154.07 154.07c85.09 0 154.07-68.98 154.07-154.07s-68.98-154.07-154.07-154.07z m0 260.74c-58.91 0-106.67-47.76-106.67-106.67s47.76-106.67 106.67-106.67c58.91 0 106.67 47.76 106.67 106.67s-47.76 106.67-106.67 106.67z","p-id":"6145"}}),t._v(" "),s("path",{attrs:{d:"M336.12 472.9m-106.67 0a106.67 106.67 0 1 0 213.34 0 106.67 106.67 0 1 0-213.34 0Z",fill:"#B3BFC5","p-id":"6146"}}),t._v(" "),s("path",{attrs:{d:"M656.12 271.42c-91.64 0-165.92 74.29-165.92 165.92s74.29 165.92 165.92 165.92c91.64 0 165.92-74.29 165.92-165.92s-74.29-165.92-165.92-165.92z m0 284.44c-65.45 0-118.52-53.06-118.52-118.52s53.06-118.52 118.52-118.52 118.52 53.06 118.52 118.52-53.07 118.52-118.52 118.52z","p-id":"6147"}})]),t._v(" "),s("p",{staticClass:"loseText"},[t._v("Lose~")])]):t._e(),t._v(" "),s("p",{staticClass:"hintText"},[t._v("\n        点我，敲我\n      ")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h3",[this._v("角色展示")])])}]};var C=a("C7Lr")(g,y,!1,function(t){a("ndvI")},"data-v-09f6d2b8",null).exports,b={playerId:JSON.parse(window.localStorage.getItem("roleID")),name:"RankList",data:function(){return{}},computed:{scorelist:function(){return this.$store.state.playerScore},currentPlayerName:function(){return this.$store.state.playerName}},methods:{outRank:function(){clearInterval(this.$store.state.timer),this.$store.dispatch("OutRoom",this.playerId),this.$router.push("/home")}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-nav-bar",{attrs:{"left-text":"返回","left-arrow":""},on:{"click-left":t.outRank}}),t._v(" "),s("van-nav-bar",{attrs:{title:"积分榜"}}),t._v(" "),s("van-list",[s("van-cell",[s("div",{staticClass:"list-header"},[s("span",{staticClass:"username-header"},[t._v("名   称")]),s("span",{staticClass:"score-header"},[t._v("分   数")])])]),t._v(" "),t._l(t.scorelist,function(e){return s("van-cell",{key:e.name},[s("div",{staticClass:"showAPlayer"},[s("img",{attrs:{src:a("cY1Z")}}),t._v(" "),s("span",{staticClass:"username",class:{currentPlayer:e.name==t.currentPlayerName}},[t._v(t._s(e.name)+" ")]),t._v(" "),s("span",{staticClass:"score",class:{currentPlayer:e.name==t.currentPlayerName}},[t._v(t._s(e.score))])])])})],2)],1)},staticRenderFns:[]};var S=a("C7Lr")(b,w,!1,function(t){a("BJvG")},"data-v-b6cae8fe",null).exports,k={data:function(){return{timer:"",isShow:!0,room_id:this.$store.state.roomID,deathRoles:[],personCounts:this.$store.state.personCounts}},computed:{players:function(){return this.$store.state.playersAll},godUUID:function(){return this.$store.state.godID}},methods:{clickToChangeStyle:function(t){"BUTTON"==t.target.nodeName&&t.target.classList.toggle("clickStyle")},changeState:function(t){var e=this.deathRoles.indexOf(t.id);-1==e?this.deathRoles.push(t.id):this.deathRoles.splice(e,1)},changeUpdate:function(){var t=this,e=this.deathRoles;this.$store.dispatch("changeState",e),setTimeout(function(){t.deathRoles=[]},1e3)},startGame:function(){clearInterval(this.timer),this.isShow=!1,this.$store.dispatch("startGame")},gameOver:function(){this.isShow=!0,this.$store.dispatch("gameOver")},out:function(){var t=this;p.a.confirm({title:"",message:"确定退出吗"}).then(function(){t.$store.dispatch("gameOver"),t.$router.back()})},loop:function(){var t=this;this.$route.path==="/godcontrol/"+this.$store.state.personCounts&&(this.timer=setInterval(function(){t.$store.dispatch("loopStatus")},3e3))}},created:function(){this.loop()}},D={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"container"},[s("div",{staticClass:"header"},[s("h3",[t._v("房间号："+t._s(t.room_id))])]),t._v(" "),t._l(t.players,function(e,r){return s("div",{key:e.id,staticClass:"group-item",attrs:{index:r}},[s("table",{staticClass:"userbanner"},[s("tr",[s("td",{staticStyle:{height:"60px",width:"90px"}},[s("img",{staticClass:"useravatar",class:{avatar:2===e.role_sta},attrs:{src:a("cY1Z"),alt:"player"}})])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"username",staticStyle:{"word-break":"break-all"}},[t._v(t._s(e.role_name)+t._s(e.name)+"\n            ")])])])]),t._v(" "),s("div",{staticClass:"contol_bar",class:{deathStyle:2===e.role_sta},on:{click:t.clickToChangeStyle}},[s("van-button",{staticClass:"control_button",attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:function(a){return t.changeState(e)}}},[t._v("被刀\n        ")]),t._v(" "),s("van-button",{staticClass:"control_button",attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:function(a){return t.changeState(e)}}},[t._v("猎杀\n        ")]),t._v(" "),s("van-button",{staticClass:"control_button",attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:function(a){return t.changeState(e)}}},[t._v("毒杀\n        ")]),t._v(" "),s("van-button",{staticClass:"control_button",staticStyle:{"margin-right":"15px"},attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:function(a){return t.changeState(e)}}},[t._v("放逐\n        ")])],1)])})],2),t._v(" "),s("div",{staticClass:"footer"},[t.isShow?s("span",[t.players.length==t.personCounts?s("van-button",{staticClass:"button_left",attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:t.startGame}},[t._v("开始")]):t._e(),t._v(" "),s("van-button",{staticClass:"button_right",attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:t.out}},[t._v("退出")])],1):t._e(),t._v(" "),t.isShow?t._e():s("span",[s("van-button",{staticClass:"button_left",attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:t.changeUpdate}},[t._v("更新")]),t._v(" "),s("van-button",{staticClass:"button_right",attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:t.gameOver}},[t._v("结束")])],1)])])},staticRenderFns:[]};var P=a("C7Lr")(k,D,!1,function(t){a("CfcH")},"data-v-554af100",null).exports,I={name:"selectMVP.vue",data:function(){return{playerId:JSON.parse(window.localStorage.getItem("roleID")),selectOn:"",value:3,btnClickedCount:0,timer:0}},computed:{allPlayers:function(){return this.$store.state.playersAll}},methods:{loop:function(){var t=this,e=this.playerId;"/selectMVP"===this.$route.path&&(this.$store.state.timer=setInterval(function(){t.$store.dispatch("loopStatusInMVP",e)},3e3))},comfirmMVP:function(){if(console.log(this.btnClickedCount),0===this.btnClickedCount){this.btnClickedCount++;var t=this.playerId,e=this.selectOn;console.log("选择的mvp"+e),this.$store.dispatch("selectMVP",{uuid:t,voterId:e}),this.loop()}else Object(p.a)({message:"不可重复选择MVP"})}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-nav-bar",{attrs:{title:"选择MVP"}}),t._v(" "),s("div",{staticClass:"showAllPlayers"},t._l(t.allPlayers,function(e){return s("div",{key:e.id,staticClass:"singlePlayer",on:{click:function(a){t.selectOn=e.id}}},[s("img",{attrs:{src:a("cY1Z")}}),t._v(" "),s("span",[t._v(t._s(e.name))]),t._v(" "),s("br"),t._v(" "),s("span",[t._v(t._s(e.roleName))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.btnClickedCount,expression:"btnClickedCount===0"}],staticClass:"rate"},[s("van-rate",{directives:[{name:"show",rawName:"v-show",value:t.selectOn==e.id,expression:"selectOn==player.id"}],attrs:{icon:"like","void-icon":"like-o",count:3,readonly:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)])}),0),t._v(" "),s("van-button",{style:{marginTop:"20%",marginBottom:"20%"},attrs:{color:"linear-gradient(to right, #4bb0ff, #6149f6)",type:"info"},on:{click:t.comfirmMVP}},[t._v("\n    确定\n  ")])],1)},staticRenderFns:[]};var M=a("C7Lr")(I,x,!1,function(t){a("Xhzk")},"data-v-3e7694c6",null).exports;s.default.use(u.a);var R=new u.a({routes:[{path:"/login",name:"login",component:v},{path:"/home",name:"home",component:_},{path:"/roleshow",name:"roleshow",component:C},{path:"/ranklist",name:"ranklist",component:S},{path:"/godcontrol/:personCount",name:"godcontrol",component:P},{path:"/selectMVP",name:"selectMVP",component:M},{redirect:"/login",path:"/"}]}),O=a("wSez"),F=a.n(O),z=(a("5OHe"),a("EaDE"),a("knhP")),E=(a("D0oh"),a("fUgm")),T=a("lC5x"),$=a.n(T),A=a("J0Oq"),V=a.n(A),N=a("ZLEe"),j=a.n(N),L=a("rVsN"),H=a.n(L),B=a("I29D"),G=a.n(B);function U(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new H.a(function(s,r){var n=void 0;if("GET"===a){var o="";j()(e).forEach(function(t){o+=t+"="+e[t]+"&"}),""!==o&&(o=o.substr(0,o.lastIndexOf("&")),t=t+"?"+o),n=G.a.get(t)}else n=G.a.post(t,e);n.then(function(t){s(t.data)}).catch(function(t){r(t)})})}function q(t){return 1===t?"村民 ":2===t?"女巫 ":3===t?"预言家 ":4===t?"猎人 ":6===t?"狼人 ":void 0}var J={createRooms:function(t,e){var a=this,s=t.commit,r=(t.state,e.personCount),n=e.roomID;return V()($.a.mark(function t(){var e,o;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U("https://afqg3f.fn.thelarkcloud.com/CreateRoom",{PeopleNum:r,RoomNum:n},"post");case 2:1===(e=t.sent).status&&(console.log("创建房间:"+e),o=e.data,R.push("/godcontrol/"+r),s("CREATE_ROOMS",{data:o,personCount:r,roomID:n})),console.log("创建房间状态："+e.status),0===e.status&&Object(p.a)({message:e.msg});case 6:case"end":return t.stop()}},t,a)}))()},joinRooms:function(t,e){var a=this,s=t.commit,r=e.roomID,n=e.username;return V()($.a.mark(function t(){var e,o,i;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U("https://afqg3f.fn.thelarkcloud.com/EnterRoom",{Name:n,RoomNum:r},"post");case 2:0===(e=t.sent).status&&Object(p.a)({message:e.msg}),1===e.status&&(console.log("加入房间:"+e),o=e.selfData,i=e.othersData,R.push("/roleshow"),s("JOIN_ROOMS",{selfData:o,othersData:i}));case 5:case"end":return t.stop()}},t,a)}))()},refreshStatus:function(t,e){var a=this,s=t.commit;t.state;return V()($.a.mark(function t(){var r,n,o;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U("https://afqg3f.fn.thelarkcloud.com/FreshState",{uuid:e},"post");case 2:1===(r=t.sent).status&&(console.log("状态刷新"+r),n=r.selfData,o=r.othersData,s("REFRESH_STATUS",{selfData:n,othersData:o}));case 4:case"end":return t.stop()}},t,a)}))()},OutRoom:function(t,e){var a=this;t.commit,t.state;return V()($.a.mark(function t(){var s;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U("https://afqg3f.fn.thelarkcloud.com/ExitRoom",{uuid:e},"post");case 2:1===(s=t.sent)&&console.log("退出房间"+s.status),0===s&&Object(p.a)({message:s.msg});case 5:case"end":return t.stop()}},t,a)}))()},loopStatus:function(t){var e=this,a=t.commit,s=t.state;return V()($.a.mark(function t(){var r,n,o;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U("https://afqg3f.fn.thelarkcloud.com/FreshState",{uuid:s.godID},"post");case 2:1==(r=t.sent).status&&(n=r.selfData,o=r.othersData,0==r.selfData.id?a("GOD_LOOP_STATUS",{othersData:o}):a("ROLE_LOOP_STATUS",{selfData:n,othersData:o}));case 4:case"end":return t.stop()}},t,e)}))()},loopPlayerStatus:function(t,e){var a=this,s=t.commit;t.state;return V()($.a.mark(function t(){var r,n,o;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U("https://afqg3f.fn.thelarkcloud.com/FreshState",{uuid:e},"post");case 2:1==(r=t.sent).status&&(n=r.selfData,o=r.othersData,0==r.selfData.id?s("GOD_LOOP_STATUS",{othersData:o}):s("ROLE_LOOP_STATUS",{selfData:n,othersData:o}));case 4:case"end":return t.stop()}},t,a)}))()},loopStatusInMVP:function(t,e){var a=this,s=t.commit;t.state;return V()($.a.mark(function t(){var r,n;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U("https://afqg3f.fn.thelarkcloud.com/MVPlist",{uuid:e},"post");case 2:1===(r=t.sent).status&&(console.log("选MVP轮询"+r),r.scorelist&&(n=r.scorelist,R.push("/ranklist"),s("MVP_LOOP_STATUS",{playerAllData:n})));case 4:case"end":return t.stop()}},t,a)}))()},changeState:function(t,e){var a=this,s=t.commit,r=t.state;return V()($.a.mark(function t(){var n,o,i;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U("https://afqg3f.fn.thelarkcloud.com/commitState",{idArr:e,uuid:r.godID},"post");case 2:1===(n=t.sent).status?(console.log("上帝更新"+n),o=n.data,i=o.map(function(t){return{role_name:q(t.role_id),role_id:t.role_id,role_sta:t.role_sta,id:t.id,name:t.name}}),s("CHANGE_STATE",{playerAllData:i})):2===n.status?Object(p.a)({message:"好人胜利"}):3===n.status?Object(p.a)({message:"狼人胜利"}):Object(p.a)({message:n.msg});case 4:case"end":return t.stop()}},t,a)}))()},startGame:function(t){var e=this,a=t.commit,s=t.state;return V()($.a.mark(function t(){var r,n,o;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U("https://afqg3f.fn.thelarkcloud.com/gameBegin",{uuid:s.godID},"post");case 2:1===(r=t.sent).status&&(n=r.data,o=n.map(function(t){return{role_name:q(t.role_id),role_id:t.role_id,role_sta:t.role_sta,id:t.id,name:t.name}}),a("START_GAME",{startData:o}),console.log("开始游戏"+r));case 4:case"end":return t.stop()}},t,e)}))()},gameOver:function(t){var e=this,a=t.commit,s=t.state;return V()($.a.mark(function t(){var r;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U("https://afqg3f.fn.thelarkcloud.com/DeleteRoom",{uuid:s.godID},"post");case 2:1===(r=t.sent).status&&(console.log("结束游戏"+r),a("GAME_OVER"));case 4:case"end":return t.stop()}},t,e)}))()},selectMVP:function(t,e){var a=this,s=t.commit,r=e.uuid,n=e.voterId;return V()($.a.mark(function t(){var e;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U("https://afqg3f.fn.thelarkcloud.com/voteMVP",{uuid:r,voterId:n},"post");case 2:1===(e=t.sent).status&&(console.log("选择MVP"+e),s("SELECT_MVP"));case 4:case"end":return t.stop()}},t,a)}))()}},Z=a("IHPB"),Y=a.n(Z),K=a("3cXf"),X=a.n(K),W={CREATE_ROOMS:function(t,e){var a=e.data,s=e.personCount,r=e.roomID;t.godID=a.uuid,t.personCounts=s,t.roomID=r},JOIN_ROOMS:function(t,e){var a=e.selfData,s=e.othersData;window.localStorage.setItem("roleID",X()(a.uuid)),t.playerID=a.uuid,t.playerIndex=a.id,t.playerStatus=a.role_sta,t.Players=s},REFRESH_STATUS:function(t,e){var a=e.selfData,s=e.othersData;t.playerIndex=a.id,t.playerRole=a.role_id,t.playerStatus=a.role_sta,t.Players.forEach(function(t){for(var e=0;e<s.length;e++)t.id===s.id&&t.role_sta!==s.role_sta&&(t.role_sta=s.role_sta)})},ROLE_LOOP_STATUS:function(t,e){var a=e.selfData,s=e.othersData;t.playerIndex=a.id,t.playerRole=a.role_id,t.playerStatus=a.role_sta,t.playerName=a.name,t.Players=s,t.playersAll=[].concat(Y()(s),[a])},GOD_LOOP_STATUS:function(t,e){var a=e.othersData;t.playersAll=a},CHANGE_STATE:function(t,e){var a=e.playerAllData;t.playersAll=a},START_GAME:function(t,e){var a=e.startData;t.playersAll=a},GAME_OVER:function(t){t.personCounts=0,t.godID="",t.playersAll=[],t.roomID=""},SELECT_MVP:function(t){},MVP_LOOP_STATUS:function(t,e){var a=e.playerAllData;t.playerScore=a}};s.default.use(E.a);var Q=new E.a.Store({state:{playersAll:[],personCounts:0,godID:"",playerID:"",playerStatus:1,playerIndex:"",playerName:"",playerRole:"",roomID:"",Players:[],timer:0,playerData:[],playerScore:[]},actions:J,mutations:W});s.default.use(p.b),s.default.use(z.default),s.default.config.productionTip=!1,s.default.use(F.a),new s.default({el:"#app",router:R,store:Q,components:{App:c},template:"<App/>"})},Rw6S:function(t,e){},Xhzk:function(t,e){},auf7:function(t,e){},cY1Z:function(t,e,a){t.exports=a.p+"static/img/people.974a2a5.png"},h3OF:function(t,e){},i13z:function(t,e){},ndvI:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a384084415ac44ff476e.js.map